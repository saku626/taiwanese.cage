<!DOCTYPE html>
<html>
  <head>
    <title>Taiwanese_cage</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" integrity="sha384-XGjxtQfXaH2tnPFa9x+ruJTuLE3Aa6LhHSWRr1XeTyhezb4abCG4ccI5AkVDxqC+" crossorigin="anonymous">
  </head>

  <body>
   <div class="containef">
    <% if logged_in? %>
      <%= render 'shared/header' %>
    <% else %>
      <%= render 'shared/before_login_header' %>
    <% end %>
    <%= render 'shared/flash_message' %>
    <%= yield %>
    <div class="spese"></div>
    <%= render 'shared/footer' %>
   </div>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script>
          //スクロールすると上部に固定させるための設定を関数でまとめる
      function FixedAnime() {
        var headerH = $('.top-wrapper').outerHeight(true);
        var scroll = $(window).scrollTop();
        if (scroll >= headerH){//headerの高さ以上になったら
            $('.menu-color').addClass('fixed');//fixedというクラス名を付与
          }else{//それ以外は
            $('.menu-color').removeClass('fixed');//fixedというクラス名を除去
          }
      }

      // 画面をスクロールをしたら動かしたい場合の記述
      $(window).scroll(function () {
        FixedAnime();/* スクロール途中からヘッダーを出現させる関数を呼ぶ*/
      });

      // ページが読み込まれたらすぐに動かしたい場合の記述
      $(window).on('load', function () {
        FixedAnime();/* スクロール途中からヘッダーを出現させる関数を呼ぶ*/
      });
    </script>
  </body>
</html>