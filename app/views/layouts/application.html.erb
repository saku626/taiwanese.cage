<!DOCTYPE html>
<html>
  <head>
    <title>台湾華語会話帳</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" integrity="sha384-XGjxtQfXaH2tnPFa9x+ruJTuLE3Aa6LhHSWRr1XeTyhezb4abCG4ccI5AkVDxqC+" crossorigin="anonymous">
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-53GDDHSH');</script>
    <!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RYG7QLYD7M"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-RYG7QLYD7M');
    </script>
  </head>

  <body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-53GDDHSH"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <title>タイトルだよ</title>
   <div class="containef">
    <% if logged_in? %>
      <%= render 'shared/header' %>
    <% else %>
      <%= render 'shared/before_login_header' %>
    <% end %>
    <%= render 'shared/flash_message' %>
    <%= yield %>
    <div class="spese"></div>
    <%= render 'shared/footer' %>
   </div>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script>
       // 固定ヘッダーのアニメーションを処理する関数
      function FixedAnime() {
        var headerH = $('.top-wrapper').outerHeight(true);
        var scroll = $(window).scrollTop();
        if (scroll >= headerH) { // ヘッダーの高さ以上にスクロールしたら
          $('.menu-color').addClass('fixed'); // fixedクラスを追加
        } else {
          $('.menu-color').removeClass('fixed'); // fixedクラスを除去
        }
      }

      // デバイスがモバイルかどうかを確認する関数
      function isMobileDevice() {
        return window.innerWidth <= 599;
      }

      // スクロール時に固定ヘッダーアニメーションを実行（モバイルデバイスの場合のみ）
      $(window).scroll(function () {
        if (isMobileDevice()) {
          FixedAnime(); // モバイルデバイスの場合のみ関数を呼び出す
        }
      });

      // ページロード時に固定ヘッダーアニメーションを実行（モバイルデバイスの場合のみ）
      $(window).on('load', function () {
        if (isMobileDevice()) {
          FixedAnime(); // モバイルデバイスの場合のみ関数を呼び出す
        }
      });

      // リサイズ時に固定ヘッダーアニメーションを実行（モバイルデバイスの場合のみ）
      $(window).on('resize', function () {
        if (isMobileDevice()) {
          FixedAnime(); // モバイルデバイスの場合のみ関数を呼び出す
        } else {
          $('.menu-color').removeClass('fixed'); // デスクトップの場合はfixedクラスを除去
        }
      });
    </script>
  </body>
</html>